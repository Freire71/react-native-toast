{"version":3,"names":["useEffect","useState","Keyboard","emptyCoordinates","Object","freeze","screenX","screenY","width","height","initialValue","start","end","useKeyboard","shown","setShown","coordinates","setCoordinates","keyboardHeight","setKeyboardHeight","handleKeyboardDidShow","e","startCoordinates","endCoordinates","handleKeyboardDidHide","subscriptions","addListener","forEach","subscription","remove","keyboardShown"],"sources":["useKeyboard.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Keyboard, KeyboardEventListener, KeyboardMetrics } from 'react-native';\n\n/**\n * Get keyboard status, height, and coordinates\n */\nconst emptyCoordinates = Object.freeze({\n  screenX: 0,\n  screenY: 0,\n  width: 0,\n  height: 0,\n});\nconst initialValue = {\n  start: emptyCoordinates,\n  end: emptyCoordinates,\n};\n\nexport function useKeyboard() {\n  const [shown, setShown] = useState(false);\n  const [coordinates, setCoordinates] = useState<{\n    start: undefined | KeyboardMetrics;\n    end: KeyboardMetrics;\n  }>(initialValue);\n  const [keyboardHeight, setKeyboardHeight] = useState<number>(0);\n\n  const handleKeyboardDidShow: KeyboardEventListener = (e) => {\n    setShown(true);\n    setCoordinates({ start: e.startCoordinates, end: e.endCoordinates });\n    setKeyboardHeight(e.endCoordinates.height);\n  };\n\n  const handleKeyboardDidHide: KeyboardEventListener = (e) => {\n    setShown(false);\n    if (e) {\n      setCoordinates({ start: e.startCoordinates, end: e.endCoordinates });\n    } else {\n      setCoordinates(initialValue);\n      setKeyboardHeight(0);\n    }\n  };\n\n  useEffect(() => {\n    const subscriptions = [\n      Keyboard.addListener('keyboardWillShow', handleKeyboardDidShow),\n      Keyboard.addListener('keyboardDidShow', handleKeyboardDidShow),\n      Keyboard.addListener('keyboardWillHide', handleKeyboardDidHide),\n      Keyboard.addListener('keyboardDidHide', handleKeyboardDidHide),\n    ];\n\n    return () => {\n      subscriptions.forEach((subscription) => subscription.remove());\n    };\n  }, []);\n  return {\n    keyboardShown: shown,\n    coordinates,\n    keyboardHeight,\n  };\n}\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAiE,cAAjE;AAEA;AACA;AACA;;AACA,MAAMC,gBAAgB,GAAGC,MAAM,CAACC,MAAP,CAAc;EACrCC,OAAO,EAAE,CAD4B;EAErCC,OAAO,EAAE,CAF4B;EAGrCC,KAAK,EAAE,CAH8B;EAIrCC,MAAM,EAAE;AAJ6B,CAAd,CAAzB;AAMA,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAER,gBADY;EAEnBS,GAAG,EAAET;AAFc,CAArB;AAKA,OAAO,SAASU,WAAT,GAAuB;EAC5B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,KAAD,CAAlC;EACA,MAAM,CAACe,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAG3CS,YAH2C,CAA9C;EAIA,MAAM,CAACQ,cAAD,EAAiBC,iBAAjB,IAAsClB,QAAQ,CAAS,CAAT,CAApD;;EAEA,MAAMmB,qBAA4C,GAAIC,CAAD,IAAO;IAC1DN,QAAQ,CAAC,IAAD,CAAR;IACAE,cAAc,CAAC;MAAEN,KAAK,EAAEU,CAAC,CAACC,gBAAX;MAA6BV,GAAG,EAAES,CAAC,CAACE;IAApC,CAAD,CAAd;IACAJ,iBAAiB,CAACE,CAAC,CAACE,cAAF,CAAiBd,MAAlB,CAAjB;EACD,CAJD;;EAMA,MAAMe,qBAA4C,GAAIH,CAAD,IAAO;IAC1DN,QAAQ,CAAC,KAAD,CAAR;;IACA,IAAIM,CAAJ,EAAO;MACLJ,cAAc,CAAC;QAAEN,KAAK,EAAEU,CAAC,CAACC,gBAAX;QAA6BV,GAAG,EAAES,CAAC,CAACE;MAApC,CAAD,CAAd;IACD,CAFD,MAEO;MACLN,cAAc,CAACP,YAAD,CAAd;MACAS,iBAAiB,CAAC,CAAD,CAAjB;IACD;EACF,CARD;;EAUAnB,SAAS,CAAC,MAAM;IACd,MAAMyB,aAAa,GAAG,CACpBvB,QAAQ,CAACwB,WAAT,CAAqB,kBAArB,EAAyCN,qBAAzC,CADoB,EAEpBlB,QAAQ,CAACwB,WAAT,CAAqB,iBAArB,EAAwCN,qBAAxC,CAFoB,EAGpBlB,QAAQ,CAACwB,WAAT,CAAqB,kBAArB,EAAyCF,qBAAzC,CAHoB,EAIpBtB,QAAQ,CAACwB,WAAT,CAAqB,iBAArB,EAAwCF,qBAAxC,CAJoB,CAAtB;IAOA,OAAO,MAAM;MACXC,aAAa,CAACE,OAAd,CAAuBC,YAAD,IAAkBA,YAAY,CAACC,MAAb,EAAxC;IACD,CAFD;EAGD,CAXQ,EAWN,EAXM,CAAT;EAYA,OAAO;IACLC,aAAa,EAAEhB,KADV;IAELE,WAFK;IAGLE;EAHK,CAAP;AAKD"}